
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AI-powered e-commerce listing optimization tool. Get instant suggestions to improve your product listings, SEO, and conversion rates.">
  <meta name="keywords" content="e-commerce, listing optimization, SEO, AI, product optimization">
  <meta name="author" content="AI Listing Optimizer">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="AI E-Commerce Listing Optimizer">
  <meta property="og:description" content="Optimize your e-commerce listings with AI-powered suggestions">
  <meta property="og:image" content="/og-image.png">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:title" content="AI E-Commerce Listing Optimizer">
  <meta property="twitter:description" content="Optimize your e-commerce listings with AI-powered suggestions">
  
  <title>AI E-Commerce Listing Optimizer</title>
  
  <!-- Preconnect to external domains for faster loading -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://esm.sh" crossorigin>
  
  <!-- Critical CSS - Inlined for fastest rendering -->
  <style>
    /* Critical CSS - Above the fold styles only */
    :root {
      --color-primary: #343a40;
      --color-secondary: #6c757d;
      --color-bg: #f8f9fa;
      --color-surface: #ffffff;
      --color-error: #dc3545;
      --color-success: #28a745;
      --shadow-sm: 0 4px 6px rgba(0,0,0,0.05);
      --shadow-md: 0 10px 20px rgba(0,0,0,0.05);
      --radius: 16px;
      --radius-sm: 8px;
      --font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      --font-size-base: 1rem;
      --font-size-lg: 1.125rem;
      --font-size-xl: 2rem;
      --spacing-xs: 0.5rem;
      --spacing-sm: 1rem;
      --spacing-md: 1.5rem;
      --spacing-lg: 2rem;
      --spacing-xl: 2.5rem;
    }

    *,*::before,*::after{box-sizing:border-box}
    body{
      font-family:var(--font-family);
      background:var(--color-bg);
      color:var(--color-primary);
      margin:0;
      padding:var(--spacing-lg);
      display:flex;
      flex-direction:column;
      align-items:center;
      min-height:100vh;
      line-height:1.5;
    }

    #app-container{
      width:100%;
      max-width:800px;
      background:var(--color-surface);
      border-radius:var(--radius);
      box-shadow:var(--shadow-sm),var(--shadow-md);
      padding:var(--spacing-xl);
    }

    h1{
      font-size:var(--font-size-xl);
      font-weight:700;
      text-align:center;
      margin:0 0 var(--spacing-xs) 0;
      color:var(--color-primary);
    }

    .subtitle{
      text-align:center;
      color:var(--color-secondary);
      margin:0 0 var(--spacing-lg) 0;
      font-size:var(--font-size-base);
      max-width:600px;
      margin-left:auto;
      margin-right:auto;
      line-height:1.5;
    }

    .input-container{
      display:flex;
      flex-direction:column;
      gap:var(--spacing-sm);
      margin-bottom:var(--spacing-lg);
    }

    #listing-input{
      width:100%;
      min-height:200px;
      padding:var(--spacing-md);
      border:2px solid #e9ecef;
      border-radius:var(--radius-sm);
      font-family:var(--font-family);
      font-size:var(--font-size-base);
      resize:vertical;
      transition:border-color 0.15s ease-in-out;
    }

    #listing-input:focus{
      outline:0;
      border-color:#007bff;
      box-shadow:0 0 0 0.2rem rgba(0,123,255,0.25);
    }

    #generate-btn{
      background:#007bff;
      color:white;
      border:none;
      padding:var(--spacing-md) var(--spacing-lg);
      border-radius:var(--radius-sm);
      font-size:var(--font-size-lg);
      font-weight:500;
      cursor:pointer;
      transition:background-color 0.15s ease-in-out;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:var(--spacing-xs);
    }

    #generate-btn:hover:not(:disabled){
      background:#0056b3;
    }

    #generate-btn:disabled{
      background:#6c757d;
      cursor:not-allowed;
    }

    .loader{
      width:20px;
      height:20px;
      border:2px solid rgba(255,255,255,0.3);
      border-radius:50%;
      border-top:2px solid white;
      animation:spin 1s linear infinite;
    }

    @keyframes spin{
      0%{transform:rotate(0deg)}
      100%{transform:rotate(360deg)}
    }

    .error-message{
      background:#f8d7da;
      color:#721c24;
      padding:var(--spacing-md);
      border-radius:var(--radius-sm);
      border:1px solid #f5c6cb;
      margin:var(--spacing-sm) 0;
    }

    footer{
      margin-top:auto;
      padding:var(--spacing-lg) 0;
      color:var(--color-secondary);
      font-size:0.875rem;
      text-align:center;
    }

    @media (max-width:768px){
      body{padding:var(--spacing-sm)}
      #app-container{padding:var(--spacing-lg)}
      h1{font-size:1.5rem}
      .subtitle{font-size:0.875rem}
    }
  </style>
  
  <!-- Non-critical CSS loaded asynchronously -->
  <link rel="preload" href="/src/styles/components.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/src/styles/components.css"></noscript>
  
  <!-- Font loading with font-display: swap for better performance -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"></noscript>
  
  <!-- Import map for ES modules -->
  <script type="importmap">
  {
    "imports": {
      "@google/genai": "https://esm.sh/@google/genai@^1.10.0"
    }
  }
  </script>
  
  <!-- DNS prefetch for external resources -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//fonts.gstatic.com">
  <link rel="dns-prefetch" href="//esm.sh">
  
  <!-- Performance and security headers -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  
  <!-- Favicon and icons -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  <!-- PWA manifest -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ffffff">
  
  <!-- Preload critical resources -->
  <link rel="modulepreload" href="/src/main.js">
  <link rel="modulepreload" href="/src/utils/dom.js">
  <link rel="modulepreload" href="/src/utils/api.js">
</head>
<body>
  <div id="app-container"></div>
  <footer>
    Â© <span id="year">2024</span> AI Listing Optimizer. All rights reserved.
  </footer>
  
  <!-- Main application - loaded as ES module -->
  <script type="module" src="./src/main.ts"></script>
  
  <!-- Service Worker registration for PWA -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('SW registered: ', registration);
          })
          .catch(registrationError => {
            console.log('SW registration failed: ', registrationError);
          });
      });
    }
  </script>
  
  <!-- Performance monitoring -->
  <script>
    // Web Vitals monitoring
    if ('performance' in window) {
      new PerformanceObserver((list) => {
        for (const entry of list.getEntries()) {
          if (entry.entryType === 'largest-contentful-paint') {
            console.log('LCP:', entry.startTime);
          }
          if (entry.entryType === 'first-input') {
            console.log('FID:', entry.processingStart - entry.startTime);
          }
          if (entry.entryType === 'layout-shift') {
            if (!entry.hadRecentInput) {
              console.log('CLS:', entry.value);
            }
          }
        }
      }).observe({entryTypes: ['largest-contentful-paint', 'first-input', 'layout-shift']});
    }
  </script>
</body>
</html>
    